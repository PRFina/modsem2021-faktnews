
/* Trova titolo review e nome autore di una data FactCheckingOrganization
   con ricerca per nome della FCO "approssimata", ovvero con regex.

   In questo caso il risultato ritorna le review della voce.info
*/
SELECT ?rname ?fcname ?fconame
WHERE {
      ?r a fn:Review; fn:isReviewedBy ?fc; dct:title ?rn.
      ?fc fn:affiliatedTo ?fco; schema:name ?fcn.
      ?fco a fn:FactCheckingOrganization.
     

      ?fco schema:name ?fcon.
      FILTER(REGEX(?fcon, "voce","i")).
      BIND(STR(?rn) AS ?rname).	
      BIND(STR(?fcn) AS ?fcname)
      BIND(STR(?fcon) AS ?fconame).

} LIMIT 100


/*
Trova tutti i claim che non hanno nessuna review.
Sfrutta l'operatore MINUS per trovare tutti i claim con review
attraverso il predicato :claimReviewed (ricordiamo essere una property chain)
e successivamente gli sottrae da tutti i claims disponibili nel knowledge graph
*/

PREFIX : <http://www.modsem.org/fakt-news#>
PREFIX rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>
PREFIX rdfs: <http://www.w3.org/2000/01/rdf-schema#>
PREFIX fn: <http://www.modsem.org/fakt-news#>
PREFIX schema: <http://schema.org/>
PREFIX xsd: <http://www.w3.org/2001/XMLSchema#>

SELECT ?claim ?claimant_name
WHERE { 
    ?claim a :Claim; 
       :isClaimedBy ?claimant .
    ?claimant schema:name ?claimant_name.
    MINUS {
       ?rev :claimReviewed ?claim. 
    }
} limit 100 